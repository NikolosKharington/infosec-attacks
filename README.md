# Домашнее задание к занятию «Уязвимости и атаки на информационные системы - Харьков Никита»


### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
*Приведите ответ в свободной форме.*

---
### Решение 1

## Анализ виртуальной машины Metasploitable

В ходе сканирования виртуальной машины Metasploitable с использованием утилиты `nmap` (`-sV -p-`) были обнаружены открытые сетевые службы и проанализированы их уязвимости.

### Разрешённые сетевые службы

На машине обнаружены следующие основные сервисы:
- **FTP** (vsftpd 2.3.4, порт 21)
- **SSH** (порт 22)
- **Telnet** (порт 23)
- **SMTP** (порт 25)
- **DNS** (порт 53)
- **HTTP** (Apache 2.2.8, порт 80)
- **SMB** (Samba, порты 139/445)
- **MySQL**, **PostgreSQL**, **VNC**, **NFS**, и др.

### Обнаруженные уязвимости

1. **FTP (vsftpd 2.3.4)** - удалённое выполнение команд (RCE)  
   https://www.exploit-db.com/exploits/17491

2. **SMB (Samba 3.0.20)** - удалённое выполнение команд без аутентификации  
   https://www.exploit-db.com/exploits/16320

3. **distccd** - выполнение произвольных команд без проверки источника  
   https://www.exploit-db.com/exploits/9915


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*

---

### Решение 2

## Сканирование Metasploitable разными режимами nmap

### Отличия режимов сканирования

**SYN-сканирование**  
Отправляются TCP-пакеты с флагом SYN. Соединение полностью не устанавливается.

**FIN-сканирование**  
Отправляются TCP-пакеты с флагом FIN без установки соединения.

**Xmas-сканирование**  
Отправляются TCP-пакеты с флагами FIN, PSH и URG. По логике работы похоже на FIN-сканирование

**UDP-сканирование**  
Отправляются UDP-пакеты. Ответы приходят не всегда, поэтому сканирование менее точное и более медленное.

---

### Ответ сервера

- При **SYN-сканировании**:
  - открытый порт отвечает `SYN/ACK`
  - закрытый порт отвечает `RST`

- При **FIN и Xmas-сканировании**:
  - открытый порт не отвечает
  - закрытый порт отвечает `RST`

- При **UDP-сканировании**:
  - закрытый порт отвечает ICMP «Port unreachable»
  - открытый порт чаще всего не отвечает

---

### Вывод

Режимы сканирования отличаются типами отправляемых пакетов и реакцией сервера. SYN-сканирование является наиболее информативным, FIN и Xmas позволяют выполнять более скрытое сканирование, а UDP-сканирование используется для поиска UDP-сервисов и требует больше времени.
